/* TipTap Editor Styles */
.ProseMirror {
  min-height: 400px;
  outline: none;
  -webkit-overflow-scrolling: touch; /* iOS scroll-bounce */
}

.ProseMirror h1 {
  font-size: 1.875rem;
  font-weight: 600;
  margin-bottom: 1rem;
  line-height: 1.2;
  /* iOS Notes style title */
  letter-spacing: -0.02em;
}

.ProseMirror p {
  margin-bottom: 1rem;
  line-height: 1.6;
  white-space: pre-wrap; /* Preserve line breaks */
}

/* Prevent paragraph collapse during typing */
.ProseMirror p:not(:last-child) { 
  margin-bottom: 1rem; 
}

.ProseMirror.ProseMirror-focused p {
  /* Prevent collapse during typing */
  min-height: 1.5em;
}

/* AI content styling - only visible when SHOW_AI_DIFF feature flag is enabled */
.ProseMirror .ai-content {
  background-color: #f0f9ff;
  padding-left: 1rem;
  margin: 1rem 0;
}

/* Bubble menu styling */
.bubble-menu {
  @apply rounded-lg shadow-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-1 flex gap-1;
}

.bubble-menu button {
  @apply w-7 h-7 flex items-center justify-center rounded hover:bg-gray-100 dark:hover:bg-gray-700;
}

.bubble-menu [data-active="true"] { 
  @apply text-blue-600 bg-blue-50 dark:bg-blue-900 dark:text-blue-300; 
}

/* Placeholder text */
.ProseMirror p.is-editor-empty:first-child::before {
  content: attr(data-placeholder);
  float: left;
  color: #adb5bd;
  pointer-events: none;
  height: 0;
}

/* Selection */
.ProseMirror ::selection {
  background-color: #b4d5fe;
}

/* List styles */
.ProseMirror ul,
.ProseMirror ol {
  padding-left: 1.5rem;
  margin-bottom: 1rem;
}

.ProseMirror li {
  margin-bottom: 0.25rem;
  display: list-item;
}

/* Link styles */
.ProseMirror a {
  color: #2563eb;
  text-decoration: underline;
  cursor: pointer;
}

.ProseMirror a:hover {
  color: #1d4ed8;
}